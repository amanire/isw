<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Progressive Web Apps</title>

		<link href="https://fonts.googleapis.com/css?family=Roboto+Slab:700" rel="stylesheet">
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="lib/css/zenburn.css">
		<link rel="stylesheet" href="css/theme/edf.css">
		<link rel="stylesheet" href="lib/css/zenburn.css">
    <link rel="icon" href="data:;base64,iVBORwOKGO=" />

		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">

<section class="title-slide">
  <h2>A Pragmatic Peek at</h2>
  <h1>Progressive Web Apps</h1>
  <p style="color: white;">Aaron Manire</p>
</section>

<section data-markdown>
  <textarea type="text/template">
## About me
- Full-stack web developer, IT <!-- .element: class="fragment" -->
- Building websites with the Drupal CMS since 2007 <!-- .element: class="fragment" -->
- First professional responsive site built in 2013 <!-- .element: class="fragment" -->
- Apple enthusiast <!-- .element: class="fragment" -->

Notes:
- Prefer UX web developer, Paul Boag, Jared Spool
- Tufts U Tisch Library
- To the shame of some of my colleagues in the Drupal community
  </textarea>
</section>

<section data-markdown>
  <textarea type="text/template">
## Disclaimer


Notes:
- Coming from the perspective of a web developer

- Intro to Service Workers
amanire.com/isw

Less technical overview of more general interest.
Honestly haven't thought much about service workers for well over year but
wanted to revisit.

  </textarea>
</section>

<section data-markdown>
  <textarea data-template>
## Web sites
- Reach <!-- .element: class="fragment" -->
  - Domain name <!-- .element: class="fragment" -->
  - Linkable, shareable via URLs <!-- .element: class="fragment" -->
  - Indexed by search engines <!-- .element: class="fragment" -->
- Responsive <!-- .element: class="fragment" -->
  - Device viewport size <!-- .element: class="fragment" -->
- Accessible via Progressive enhancement <!-- .element: class="fragment" -->
  - Site hierarchy and navigation <!-- .element: class="fragment" -->
  - Device capabilities <!-- .element: class="fragment" -->
  - User preferences <!-- .element: class="fragment" -->

Notes:
- "Worldwide web"
- edf.org
- search engine integregated into browser
  </textarea>
</section>

<section data-markdown>
  <textarea data-template>
## Web apps
Websites + …  <!-- .element: class="fragment" -->

- Client-side interactivity <!-- .element: class="fragment" -->
- XHR/AJAX <!-- .element: class="fragment" -->
- Personalized <!-- .element: class="fragment" -->
- URL paths are often deemphasized <!-- .element: class="fragment" -->

Notes:
- Examples
  - Gmail
  - GitHub
- Things like notifications
- App-like affordances on
  - edf.org
  - scienceintheclassroom.org
  - This presentation, reveal.js
  - https://notist.ninja/embed/NTfnrb
  </textarea>
</section>

<section>
  <h2>Native apps</h2>
  <section data-markdown>
    <textarea data-template>
### Operating Systems
- Desktop
  - Windows
  - MacOS
  - ChromeOS
  - Linux
- Mobile
  - Android
  - iOS

  Notes:
- Preview
- Fantastical
    </textarea>
  </section>
  <section data-markdown>
    <textarea data-template>
      - Strong OS integration
      - No URLs <!-- .element: class="fragment" -->
      - Performance <!-- .element: class="fragment" -->
      - Security <!-- .element: class="fragment" -->
      - Expensive to maintain across platforms <!-- .element: class="fragment" -->
    </textarea>
  </section>
</section>

<section>
  <h2>Compile to native</h2> 
  <section data-markdown>
    <textarea type="text/template">
### Desktop

![](images/electron.png)

Notes:
- Proton Native
- Electron takes up a lot of redundant storage and RAM. Chromium rendering engine and Node.js runtime.
- Slack
- Skype
- Visual Studio Code
- Figma
- Windows 95
    </textarea>
  </section>
  <section data-markdown>
    <textarea type="text/template">
### Mobile

- Apache Cordova (PhoneGap)
- React Native
- NativeScript
- Flutter
- Ionic
    </textarea>
  </section>
</section>

<section>
  <h2>Progressive Web Apps</h2>
  <section>
    <div class="two-column" style="margin-bottom: 1em;">
      <div>
        <ul>
          <li>Linkable</li>
          <li>Responsive</li>
          <li>App-like-interactions</li>
          <li>Connectivity independent</li>
        </ul>
      </div>
      <div>
        <ul>
          <li>Safe</li>
          <li>Discoverable</li>
          <li>Re-engageable</li>
          <li>Fresh</li>
          <li>Installable</li>
        </ul>
      </div>
    </div>
    <p><small>Alew Russell & Frances Berriman<br/>
      <a href="https://infrequently.org/2015/06/progressive-apps-escaping-tabs-without-losing-our-soul/">infrequently.org/2015/06/progressive-apps-escaping-tabs-without-losing-our-soul</a></small></p>
    </section>
  <section>
    <h3>Any site can be a PWA</h3>
    <ul>
      <li>HTTPS</li>
      <li>Service Worker</li>
      <li>Manifest JSON file</li>
    </ul>
    <p><small>Jeremey Keith<br/>
      <a href="https://adactio.com/journal/13884">adactio.com/journal/13884</a></small>
    </p>
    <aside class="notes"></aside>
  </section>
</section>

<section>
  <h2>Manifest</h2>
  <section data-markdown>
    <textarea type="text/template">
```
<link rel="manifest" href="/manifest.json">
```

or

```
<link rel="manifest" href="manifest.webmanifest">
```
    </textarea>
  </section>
  <section data-markdown>
    <textarea type="text/template">
      ### Example manifest contents

```
{
  "short_name": "EDF",
  "name": "Environmental Defense Fund",
  "icons": [
      {
          "src": "/images/icons-192.png",
          "type": "image/png",
          "sizes": "192x192"
      },
      {
          "src": "/images/icons-512.png",
          "type": "image/png",
          "sizes": "512x512"
      }
  ],
  "background_color": "#3367D6",
  "theme_color": "#3367D6"
  "display": "standalone",
  "scope": "/app/",
  "start_url": "/index.html",
}
```

    </textarea>
  </section>
</section>

<section>
  <h2>Service Worker</h2>
  <section>
    <h3>Network Request</h3>
    <img src="images/network-request.svg" />
    <aside class="notes"></aside>
  </section>
  <section>
    <h3>Failure and frustration</h3>
    <ul>
      <li class="fragment">No nearby cell tower</li>
      <li class="fragment">Flaky Wifi</li>
      <li class="fragment">Traffic spikes, e.g a major event</li>
      <li class="fragment">ISP trouble</li>
      <li class="fragment">Power outage</li>
      <li class="fragment">Site server is down</li>
    </ul>
    <aside class="notes"></aside>
  </section>
  <section>
    <img style="margin-top: 1em;" src="images/network-request-sw.svg" />
    <aside class="notes"></aside>
  </section>
  <section>
<p>Caching Strategy: Stale while revalidate</p>
<img src="images/stale-while-revalidate.png"/>
<small>Source: <a href="https://web.dev/offline-cookbook">The Offline Cookbook</a> by Jake Archibald</small>

<aside class="notes">Ideal for: frequently updating resources where having the very latest version is non-essential. Avatars can fall into this category.

If there's a cached version available, use it, but fetch an update for next time.
</aside>
    </textarea>
  </section>
  <section>
<p>Cache First (Cache Falling Back to Network)</p>
<img src="images/cache-first.png"/>
<small>Source: <a href="https://web.dev/offline-cookbook">The Offline Cookbook</a> by Jake Archibald</small>

<aside class="notes">Ideal for: building offline-first. In such cases, this is how you'll handle the majority of requests. Other patterns will be exceptions based on the incoming request.
</aside>
  </section>
  <section>
<h3>Network or cache</h3>
<p><a href="https://serviceworke.rs/strategy-network-or-cache_demo.html">Demo</a></p>
<small>Source: <a href="https://serviceworke.rs/strategy-network-or-cache.html">The Service Worker Cookbook</a> by Mozilla</small>

<aside class="notes">The service worker in this recipe tries to retrieve the most up to date content from the network but if the network is taking too long, it will serve cached content instead.
</aside>
  </section>
</section>

<section>
  <h2>HTTPS</h2>
  <section data-markdown>
    <textarea type="text/template">
### Certificate Authority

![](images/entrust-ca-logo.svg)
    </textarea>
  </section>
  <section>
    <div class="two-column">
      <div>
        <img style="background-color: #fff; padding: 20px; max-height: none;" src="images/letsencrypt-logo-horizontal.svg"/><br/>
        <div><small><a href="https://letsencrypt.org/">letsencrypt.org</a></small></div>
      </div>
      <div>
        <img style="background-color: #fff; padding: 20px; width:300px; max-height: none;" src="images/certbot-logo-1A.svg">
        <div><small><a href="https://certbot.eff.org/">certbot.eff.org</a></small></div>
      </div>
    </div>
  </section>
  <section data-markdown>
    <textarea type="text/template">
or localhost for development
    </textarea>
  </section>
</section>

<section data-markdown>
  <textarea type="text/template">
## Web APIs

- Web Share
- Clipboard
- Push
- Payment
- File System Access
- Full Screen

Notes:
  - XXX
  </textarea>
</section>

<section data-markdown>
  <textarea type="text/template">

# Example PWAs

- Twitter
- Unsplash
- outlook.office.com
- sqoosh.ap
- Google Stadia
- Excalidraw

Notes:
  - Stadia just announced iOS beta (Apple's restrictions on cloud gaming apps)
  https://support.google.com/stadia/answer/10204874?hl=en
  </textarea>
</section>

<section>
  <h2>Tools and Resources</h2> 
  <section data-markdown>
    <textarea type="text/template">
### Chrome developer tools

![](images/chrome-logo.svg)

[chromium.org/blink/serviceworker/service-worker-faq](https://chromium.org/blink/serviceworker/service-worker-faq)
    </textarea>
  </section>
  <section data-markdown data-background-color="#1fc2c8">
    <textarea type="text/template">

<img src="images/pwa-builder-logo.svg" style="height:150px; width:auto;">
<p><small><a style="color:white;" href="https://www.pwabuilder.com/">pwabuilder.com</a></small></p>
    </textarea>
  </section>
  <section>
    <h3>Lighthouse</h3>
    <img src="images/pwa-lighthouse.png" style="height:150px; width:auto;">
    <p>Audits for performance, accessibility, progressive web apps, and more.</p>
    <p><small><a href="https://developers.google.com/web/tools/lighthouse/">developers.google.com/web/tools/lighthouse/</a></small></p>
  </section>
  <section>
    <h3>webhint</h3>
    <img src="images/webhint-logo.svg" style="height:150px; width:auto;">
    <p><small><a href="https://webhint.io">webhint.io</a></small></p>
  </section>
  <section>
    <img src="images/workbox-logo.svg" style="height:150px; width:auto;">
    <p>A set of libraries that can power a production-ready service worker for your Progressive Web App.</p>
    <p><small><a href="https://developers.google.com/web/tools/workbox/">developers.google.com/web/tools/workbox/</a></small></p>
  </section>
  <section data-markdown>
    <textarea type="text/template">
![](images/superpwa-logo.png)

SuperPWA Wordpress plugin

[superpwa.com](https://superpwa.com)
    </textarea>
  </section>
</section>

<section data-markdown>
  <textarea type="text/template">
## PWAs gone bad
- Broken service worker
  testingjavascript.com
  [twitter.com/kentcdodds/status/1053343015580852224](https://twitter.com/kentcdodds/status/1053343015580852224)
- Notifications
- Poor responsiveness
- External URLs in standalone mode

Notes:
  - Gatsby Starter
  - Create React App
  </textarea>
</section>

<section data-markdown>
  <textarea type="text/template">
## PWA native gaps

- Browser menu bar
- Browser extensions
- Multiple browsers
- Stability

Notes:
  - XXX
  </textarea>
</section>

<section data-markdown>
  <textarea type="text/template">
## Elephant in the room: Apple

![](images/safari-is-the-new-ie.png)

[safari-is-the-new-ie.com](https://www.safari-is-the-new-ie.com/)

The author of the viral blog post has since recanted.

[nolanlawson.com/2019/01/01/things-ive-been-wrong-about-things-ive-been-right-about/#wrong-safari-is-the-new-ie](https://nolanlawson.com/2019/01/01/things-ive-been-wrong-about-things-ive-been-right-about/#wrong-safari-is-the-new-ie)

> As it turns out, Safari is not really the new IE. 

- App Clips https://developer.apple.com/app-clips/
- Safari's lack of support for Web APIs
  - push notifications
  - Background sync
  - …
- Safari 7 day cap on storage, including service worker registrations
(unless installed via _Add to Home Screen_)

  Steve Jobs when launching the iPhone:

> Our innovative approach, using Web 2.0-based standards, lets developers create amazing new applications while keeping the iPhone secure and reliable.

## Apple's priorities

- Privacy
- Battery life
- Security
- Accessibility

Notes:
  - App Clips introduced at Apple's developer conference in June 2020
  </textarea>
</section>

<section data-markdown>
  <textarea type="text/template">
## App Store

- Profit 
- Moderation of quality and content
  - Deplatforming of Parler over violent and illegal activity associated with the Capitol building riot.

Notes:
  - XXX
  </textarea>
</section>

<section data-markdown>
  <textarea type="text/template">
### Chromium Web Capabilities (Project Fugu)
https://web.dev/fugu-status/

### Platform Adjacency Theory
https://infrequently.org/2020/06/platform-adjacency-theory/

### Should The Web Expose Hardware Capabilities? 
https://www.smashingmagazine.com/2021/01/web-expose-hardware-capabilities/

Notes:
  - XXX
  </textarea>
</section>



<section data-markdown>
  <textarea type="text/template">
## Wrapping up

- PWAs are not the next big thing, but a collection of technologies that add valuable new affordances to the web.
- Firefox drops installation via Site Specific Browser feature
- Firefox staffing levels
- Anti-trust legislation?
  - Epic Games (Fortnight) trial in May
- Google Stadia
- MS Outlook
https://www.windowscentral.com/project-monarch-outlook-web-universal-email-client-microsoft
codenamed Monarch
Notes:
  - XXX
  </textarea>
</section>

<section>
  <h2>Thank you</h2>
  <p><a href="https://amanire.com/pwa">amanire.com/pwa</a></p>
  <p>Aaron Manire</p>
  <p><small><a href="mailto:amanire@edf.org">amanire@edf.org</a></small><br/>
</section>

			</div> <!-- .slides -->
		</div> <!-- .reveal -->

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); hljs.configure({tabReplace: '  '}) }}
				]
			});
		</script>
	</body>
</html>
